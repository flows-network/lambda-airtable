<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>create record with flows-network</title>

    <link href="https://tensorflow-demo-0gbniz1314770b82-1302315972.tcloudbaseapp.com/watermark/bootstrap.min.css"
          rel="stylesheet">
    <script src="https://tensorflow-demo-0gbniz1314770b82-1302315972.tcloudbaseapp.com/watermark/jquery-3.5.1.min.js"></script>

    <script>
        function callService() {
            var clientName = $('#Name').val();
            var Notes = $('#Notes').val();
            if (!clientName) {
                alert('Name is required！')
                return
            }

            $('#loading').show()
            $('#process').prop('disabled', true);

            $.ajax({
                url: '{BACKEND_SERVICE_URL}?base_id=appNEswczILgUsxML&table_name=tblmgyDPdFo2crDKh',
                type: "post",
                data: JSON.stringify({Name: clientName, Notes: Notes, Status: "In progress"}),
                contentType: "application/json",
                timeout: 300000,
                success: function (_) {
                    $('#success').show()
                    $('#process').prop('disabled', false);
                    $('#loading').hide()
                },
                error: function (jqXHR, exception) {
                    console.log("Error Status" + jqXHR.statusText);
                    console.log("Error Resp" + jqXHR.responseText);
                    alert("The service is busy, please try again later.");
                    $('#process').prop('disabled', false);
                    $('#loading').hide()
                }
            });

            return false;
        }
    </script>
</head>

<body>
<div class="container">
    <div class="my-4 text-center">
        <img src="https://flows.network/logo-with-text.png"
             width="160"/>
    </div>

    <form id="draw" enctype="multipart/form-data"></form>
    <div class="mb-3">
        <label for="Name" class="form-label small">Enter your Name</label>
        <input type="text" class="form-control" id="Name">
    </div>
    <div class="mb-3">
        <label for="Notes" class="form-label small">Notes</label>
        <input type="text" class="form-control" id="Notes">
    </div>
    <button type="submit" class="btn btn-primary" id="process" onclick="return callService();">
        <span style="display: none;" class="spinner-border spinner-border-sm" id="loading" role="status"
              aria-hidden="true"></span>
        submit
    </button>
    </form>

    <div style="display: none;" id="success">
        <span style="margin-top: 8px;color:green">Your information has been submitted successfully.</span>
        <a href="https://flows.network/start">Want to have the same magical work? Visit our website —— flows.network</a>
    </div>

</div> <!-- /container -->
</body>
</html>
